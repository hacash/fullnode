
<!DOCTYPE html>
    <head>
        <title>Hacash WASM SDK test</title>
        <script src="./hacashsdk_bg.js"></script>
        <style>
            #print {
                padding: 20px;
                background-color: #eee;
            }
            #print p {
                font-size: 16px;
                line-height: 20px;
                margin: 0;
                padding: 0;
            }
        </style>
    </head>
    <body>
        <h1>Hacash SDK test</h1>
        <div id="print">
            <p>...</p>
        </div>



<script>
    // Like with the `--target web` output the exports are immediately
    // available but they won't work until we initialize the module. Unlike
    // `--target web`, however, the globals are all stored on a
    // `wasm_bindgen` global. The global itself is the initialization
    // function and then the properties of the global are all the exported
    // functions.
    //
    // Note that the name `wasm_bindgen` can be configured with the
    // `--no-modules-global` CLI flag


    
    // console.log(__Hacash_WASM_SDK_Buffer)


    async function do_test(sdk){
        console.log(sdk)

        // util

        print(sdk.hac_to_mei("12:244"))
        print(sdk.hac_to_unit("12:244", 240))
        
        try {
            print(sdk.hac_to_mei("0.0.012"))
        } catch (error) {
            print(error)
        }

        // account
        print(sdk.create_account("123456"))

    }

    // get sdk
    // hacash_sdk().then(do_test)

    // or use by async
    async function run() {
        let sdk = await hacash_sdk()
        do_test(sdk)
    };
    run()


    /********************************/


    const $p = document.getElementById("print")

    function print(s) {
        console.log(s)
        let p = document.createElement("p")
        p.innerText = typeof s === "object"
            ? JSON.stringify(s)
            : s.toString()
        $p.appendChild(p)
    }



</script>


    </body>
</html>
